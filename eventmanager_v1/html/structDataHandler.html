<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Event Merging Toolkit: DataHandler&lt; T &gt; Struct Template Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>DataHandler&lt; T &gt; Struct Template Reference</h1><!-- doxytag: class="DataHandler" --><code>#include &lt;<a class="el" href="Event_8h-source.html">Event.h</a>&gt;</code>
<p>
<a href="structDataHandler-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataHandler.html#be7affae244cf17f9ef93b2d1216ce6d">fillEvent</a> (T &amp;dataSource, <a class="el" href="classEvent.html">Event</a> &amp;event, long long &amp;nPtr, int mu, int vtxOffset=0, <a class="el" href="classVertex.html#0d80a5c5ed3bd9be72a325aa448eca25">Vertex::InteractionType</a> type=Vertex::UNKNOWN)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fill <code><a class="el" href="classEvent.html">Event</a></code> structure from raw data.  <a href="#be7affae244cf17f9ef93b2d1216ce6d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDataHandler.html#4efc749da9cab2099a6ad1ca60146246">getActVtx</a> (int mu)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Actual number of collisions.  <a href="#4efc749da9cab2099a6ad1ca60146246"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class T&gt;<br>
 struct DataHandler&lt; T &gt;</h3>

Collection of functions filling the <code><a class="el" href="classEvent.html">Event</a></code> structure from the raw data. 
<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="be7affae244cf17f9ef93b2d1216ce6d"></a><!-- doxytag: member="DataHandler::fillEvent" ref="be7affae244cf17f9ef93b2d1216ce6d" args="(T &amp;dataSource, Event &amp;event, long long &amp;nPtr, int mu, int vtxOffset=0, Vertex::InteractionType type=Vertex::UNKNOWN)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="structDataHandler.html">DataHandler</a>&lt; T &gt;::fillEvent           </td>
          <td>(</td>
          <td class="paramtype">T &amp;&nbsp;</td>
          <td class="paramname"> <em>dataSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEvent.html">Event</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long &amp;&nbsp;</td>
          <td class="paramname"> <em>nPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>vtxOffset</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVertex.html#0d80a5c5ed3bd9be72a325aa448eca25">Vertex::InteractionType</a>&nbsp;</td>
          <td class="paramname"> <em>type</em> = <code>Vertex::UNKNOWN</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Fill <code><a class="el" href="classEvent.html">Event</a></code> structure from raw data. 
<p>
This method fills the <code><a class="el" href="classEvent.html">Event</a></code> structure from the raw <code>ROOT</code> typle data. The assignment of the converted particles to vertices and vertex is controlled, and the number of collisions to be merged can be specified.<p>
<dl compact><dt><b>Returns:</b></dt><dd><code>true</code> if <code><a class="el" href="classEvent.html">Event</a></code> is completely filled. If the input file stream is exhausted, <code>false</code> is returned.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dataSource</em>&nbsp;</td><td>reference to raw data container </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>inout]</em>&nbsp;</td><td>event reference to modifiable <code><a class="el" href="classEvent.html">Event</a></code> to be filled from the data source </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>inout]</em>&nbsp;</td><td>nPtr raw data index of next event </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>mu</em>&nbsp;</td><td>(average) number of collisions to be collected </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>vtxOffset</em>&nbsp;</td><td>integral offset of vertex id (optional, default 0) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>type</em>&nbsp;</td><td>collision type to be assigned to all particles in this event (optional, default is <code>Vertex::UNKNOWN</code>). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Note:</b></dt><dd><b>nPtr</b> should not be manipulated by the calling module, as it keeps track of the general I/O. The correct use is shown in the example below <div class="fragment"><pre class="fragment"> {.cpp}
       <a class="code" href="classEvent.html">Event</a>*     pEvt = <span class="keyword">new</span> <a class="code" href="classEvent.html">Event</a>;       <span class="comment">// get a new Event</span>
       <span class="keywordtype">long</span> <span class="keywordtype">long</span>  nPtr(0);                <span class="comment">// initialize record counter</span>
       MyRawData* pRaw = <span class="keyword">new</span> MyRawData(); <span class="comment">//</span>
       ...
       <a class="code" href="structDataHandler.html">DataHandler&lt;MyRawData&gt;</a> pHdlr = <span class="keyword">new</span> <a class="code" href="structDataHandler.html">DataHandler&lt;MyRawData&gt;</a>();
     
       <span class="keywordflow">while</span> ( !pHdlr-&gt;fill(*pRaw,*pEvt,nPtr,30,0,Vertex::PILEUP) )
         {
           .....            <span class="comment">// your analysis</span>
           pEvt-&gt;<a class="code" href="classEvent.html#d038b2da9c6d712e704e7c07ff3bf580">reset</a>();   <span class="comment">// do not forget!!!  </span>
         }
</pre></div></dd></dl>
The input file stream is exhausted once `nPtr + nEvts &gt; nAllEvts`, meaning when the index <code>nPtr</code> to the next raw data structure after the last complete event plus the number of single collision events to be loaded <code>nEvts</code> (possibly sampled from a Poisson distribution around <code>mu</code> ), is larger than the total number of events <code>nAllEvts</code> available in the input stream. 
</div>
</div><p>
<a class="anchor" name="4efc749da9cab2099a6ad1ca60146246"></a><!-- doxytag: member="DataHandler::getActVtx" ref="4efc749da9cab2099a6ad1ca60146246" args="(int mu)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structDataHandler.html">DataHandler</a>&lt; T &gt;::getActVtx           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>mu</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Actual number of collisions. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>mu</em>&nbsp;</td><td>(average) number of collisions</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>If `mu &lt; 0`, the absolute value <code>|mu|</code> is returned. If `mu &gt; 0`, a number sampled from a Poisson distribution with an average of <code>mu</code> is returned.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>This function is mostly useful for internal use in <code><a class="el" href="structDataHandler.html#be7affae244cf17f9ef93b2d1216ce6d">DataHandler::fillEvent</a></code> . </dd></dl>

</div>
</div><p>
<hr>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="Event_8h-source.html">Event.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Jun 20 17:11:40 2013 for Event Merging Toolkit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
